{"ast":null,"code":"import { MongoClient } from \"mongodb\"; // /api/new-meetup\n//  POST api/new-meetup\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    const data = req.body; // const client = await MongoClient.connect(\n    //   \"mongodb+srv://gopinath:hcYsF6eHfYZzcHNf@cluster0.9593i.mongodb.net/meetup?retryWrites=true&w=majority\",\n    //   { useUnifiedTopology: true }\n    // );\n\n    const client = await MongoClient.connect(\"mongodb+srv://gopinath:YZQYcWzQew6i7u7@cluster0.9593i.mongodb.net/meetups\", {\n      useUnifiedTopology: true\n    }); // const client = await MongoClient.connect(\n    //   \"mongodb://localhost:27017/?readPreference=primary&appname=MongoDB%20Compass&ssl=false\",\n    //   { useUnifiedTopology: true }\n    // );\n\n    const db = client.db();\n    const meetupsCollection = db.collection(\"meetups\");\n    const result = await meetupsCollection.insertOne(data);\n    console.log(result); // close connection\n\n    client.close();\n    res.status(201).json({\n      message: \"meetup added...\"\n    });\n  }\n}\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}